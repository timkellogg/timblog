<%= form_for :article, url: articles_path, html: { multipart: true } do |f| %>

  <%= render "layouts/errors", :object => @article %>

  <p>
    <%= f.label :published %>
    <%= f.check_box :published %>
  </p>

  <p>
    <%= f.label :tag_list %>
    <%= f.text_field :tag_list %>
  </p>

  <p>
    <%= f.label :title %>
    <%= f.text_field :title %>
  </p>

  <p>
    <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
  </p>

  <p>
    <%= f.cktext_area :body, id: "editor" %>
  </p>
  
  <p>
    <%= f.submit class: "button" %>
  </p>


 
<% end %>
 
<%= link_to 'Back', articles_path, class: "button" %>


<script type="text/javascript">
  $('#article_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 3) {
      alert('Maximum file size is 3MB. Please choose a smaller image.');
    }
  });
</script>
